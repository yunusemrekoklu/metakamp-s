(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1781:(e,t,a)=>{Promise.resolve().then(a.bind(a,9297))},9297:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>H});var s=a(5155),r=a(2115),n=a(9708),l=a(2085),i=a(9434);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:a,size:r,asChild:l=!1,...o}=e,d=l?n.DX:"button";return(0,s.jsx)(d,{"data-slot":"button",className:(0,i.cn)(c({variant:a,size:r,className:t})),...o})}function d(e){let{className:t,type:a,...r}=e;return(0,s.jsx)("input",{type:a,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var m=a(968);function x(e){let{className:t,...a}=e;return(0,s.jsx)(m.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}var u=a(7484),h=a(5196);function p(e){let{className:t,...a}=e;return(0,s.jsx)(u.bL,{"data-slot":"checkbox",className:(0,i.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...a,children:(0,s.jsx)(u.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,s.jsx)(h.A,{className:"size-3.5"})})})}function g(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card",className:(0,i.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",t),...a})}function f(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,i.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...a})}function b(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,i.cn)("leading-none font-semibold",t),...a})}function v(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,i.cn)("text-muted-foreground text-sm",t),...a})}function j(e){let{className:t,...a}=e;return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,i.cn)("px-6",t),...a})}var y=a(7939),N=a(5525);function w(e){let{onSubmit:t,onShowQRCode:a,onShowAdmin:n}=e,[l,i]=(0,r.useState)(""),[c,m]=(0,r.useState)(""),[u,h]=(0,r.useState)(!1),[w,k]=(0,r.useState)(!1),S=async e=>{if(e.preventDefault(),l&&c){k(!0);try{t({email:l,username:c,wantsNewsletter:u})}finally{k(!1)}}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:(0,s.jsxs)(g,{className:"w-full max-w-md",children:[(0,s.jsxs)(f,{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-4",children:(0,s.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white text-2xl font-bold",children:"M"})})}),(0,s.jsx)(b,{className:"text-2xl font-bold",children:"Meta Dijital Kamp\xfcs Macerası"}),(0,s.jsx)(v,{children:"Meta'nın Kamp\xfcs Macerası'na hoş geldin! En b\xfcy\xfck projeyi yaratmak i\xe7in medya ara\xe7larını birleştir ve Meta'nın kodunu \xe7\xf6z!"})]}),(0,s.jsx)(j,{children:(0,s.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x,{htmlFor:"email",children:"E-posta Adresi"}),(0,s.jsx)(d,{id:"email",type:"email",placeholder:"ornek@universite.edu.tr",value:l,onChange:e=>i(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(x,{htmlFor:"username",children:"Kullanıcı Adı"}),(0,s.jsx)(d,{id:"username",type:"text",placeholder:"Liderlik sıralaması i\xe7in",value:c,onChange:e=>m(e.target.value),required:!0})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(p,{id:"newsletter",checked:u,onCheckedChange:e=>h(e)}),(0,s.jsx)(x,{htmlFor:"newsletter",className:"text-sm",children:"Meta Topluluğu'nun etkinlikleri ve duyuruları hakkında mail almak istiyorum."})]}),(0,s.jsx)(o,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",disabled:w,children:w?"Kayıt Yapılıyor...":"Oyuna Başla"}),a&&(0,s.jsxs)(o,{type:"button",variant:"outline",className:"w-full flex items-center gap-2",onClick:a,children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),"Mobil Erişim (QR Kod)"]}),n&&(0,s.jsxs)(o,{type:"button",variant:"ghost",size:"sm",onClick:n,className:"w-full flex items-center gap-2 text-gray-500 hover:text-gray-300",children:[(0,s.jsx)(N.A,{className:"h-4 w-4"}),"Admin Panel"]})]})})]})})}var k=a(5273),S=a(2152),M=a(4416);function A(){let[e,t]=r.useState(void 0);return r.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),a=()=>{t(window.innerWidth<768)};return e.addEventListener("change",a),t(window.innerWidth<768),()=>e.removeEventListener("change",a)},[]),!!e}let C=[{level:1,name:"Mikrofon",png:"/icons/microphone.png",score:1,color:"#10b981"},{level:2,name:"Fotoğraf Makinesi",png:"/icons/camera.png",score:3,color:"#3b82f6"},{level:3,name:"Kalem",png:"/icons/pen.png",score:6,color:"#f59e0b"},{level:4,name:"Sosyal Medya",png:"/icons/social.png",score:10,color:"#8b5cf6"},{level:5,name:"Logo",png:"/icons/logo.png",score:15,color:"#ef4444"},{level:6,name:"Proje Klas\xf6r\xfc",png:"/icons/folder.png",score:21,color:"#06b6d4"},{level:7,name:"Meta Sembol\xfc",png:"/icons/meta.png",score:28,color:"#f97316"},{level:8,name:"Bilgisayar",png:"/icons/computer.png",score:36,color:"#0891b2"},{level:9,name:"Beğeni",png:"/icons/like.png",score:45,color:"#ec4899"},{level:10,name:"Kahve",png:"/icons/coffee.png",score:55,color:"#9333ea"}],z=[{question:"Meta Topluluğu'nun ana amacı nedir?",options:["Sadece sosyal medya y\xf6netimi","Medya ve tanıtım \xe7alışmaları","Yazılım geliştirme","Spor etkinlikleri"],correct:1},{question:"Hangisi Meta'nın temsil ettiği alanlardan biri değildir?",options:["Podcast","G\xf6rsel medya","İ\xe7erik yazarlığı","Finansal danışmanlık"],correct:3},{question:"En y\xfcksek puanlı ikon hangisidir?",options:["Mikrofon","Sosyal Medya","Meta Sembol\xfc","Proje Klas\xf6r\xfc"],correct:2},{question:"Ka\xe7 puanlık ikon birleştiğinde quiz \xe7ıkar?",options:["5 puan","10 puan","15 puan","20 puan"],correct:1},{question:"Meta Dijital Kamp\xfcs Macerası'nda ne ama\xe7lanır?",options:["En y\xfcksek skoru yapmak","En b\xfcy\xfck projeyi yaratmak","T\xfcm ikonları toplamak","S\xfcreyi bitirmek"],correct:1}];function E(e){let{username:t,onGameOver:a,onShowQRCode:n}=e,l=(0,r.useRef)(null),[i,c]=(0,r.useState)(0),[d,m]=(0,r.useState)([]),[x,u]=(0,r.useState)(C[0]),[h,p]=(0,r.useState)(!1),[f,b]=(0,r.useState)(!1),[v,N]=(0,r.useState)(null),[w,E]=(0,r.useState)(0),[T,K]=(0,r.useState)(!0),[D,R]=(0,r.useState)(!1),[P,L]=(0,r.useState)(0),[O,q]=(0,r.useState)(!1),[F,B]=(0,r.useState)(new Map),[Y,_]=(0,r.useState)(!0),Q=A(),I=(0,r.useRef)(),G=(0,r.useRef)(150),W=(0,r.useRef)(),H=(0,r.useRef)(),X=(0,r.useRef)(),V=(0,r.useCallback)(()=>Q?{width:Math.min(window.innerWidth-32,360),height:Math.min(window.innerHeight-300,500)}:{width:400,height:600},[Q]),[J,U]=(0,r.useState)(V());(0,r.useEffect)(()=>{let e=()=>{U(V())};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[V]),(0,r.useEffect)(()=>{(async()=>{let e=new Map;for(let t of C){let a=new Image;a.crossOrigin="anonymous",a.src=t.png,await new Promise((e,s)=>{let r=setTimeout(()=>{console.warn("Timeout loading image: ".concat(t.png)),e()},5e3);a.onload=()=>{clearTimeout(r),console.log("Successfully loaded: ".concat(t.png)),e()},a.onerror=a=>{clearTimeout(r),console.warn("Failed to load image: ".concat(t.png),a),e()}}),a.complete&&a.naturalWidth>0&&e.set(t.png,a)}let t=new Audio("/sounds/drop.mp3"),a=new Audio("/sounds/merge.mp3"),s=new Audio("/sounds/game-over.mp3");t.volume=.5,a.volume=.6,s.volume=.7,W.current=t,H.current=a,X.current=s,B(e),q(!0),console.log("Loaded ".concat(e.size,"/").concat(C.length," images"))})()},[]);let $=e=>{if(Y)try{let t="drop"===e?W.current:"merge"===e?H.current:X.current;t&&(t.currentTime=0,t.play().catch(e=>console.log("Ses \xe7alınamadı:",e)))}catch(e){console.log("Ses hatası:",e)}},Z=e=>20+8*e,ee=(e,t)=>{let a=e.x-t.x,s=e.y-t.y;return Math.sqrt(a*a+s*s)<e.radius+t.radius},et=(e,t)=>{if(e.level===t.level&&e.level<C.length){let a=e.level+1,s=C[a-1],r={id:Math.random().toString(36).substr(2,9),x:(e.x+t.x)/2,y:(e.y+t.y)/2,vx:(e.vx+t.vx)/2,vy:(e.vy+t.vy)/2,level:a,radius:Z(a),icon:s,image:F.get(s.png)};return L(e=>e+1),c(e=>e+s.score),$("merge"),P>0&&P%Math.floor(11*Math.random()+10)==0&&(E(2*s.score),N(z[Math.floor(Math.random()*z.length)]),b(!0)),r}return null},ea=e=>{v&&(e===v.correct?(c(e=>e+2*w),$("merge")):$("drop")),b(!1),N(null),E(0)},es=(0,r.useCallback)((e,t)=>{if(h||!O||D)return;R(!0);let a=l.current;if(!a)return;let s=e-a.getBoundingClientRect().left,{width:r,height:n}=J,i=Z(x.level),c=Math.max(i,Math.min(r-i,s)),o=Q?.15*n:G.current,d={id:Math.random().toString(36).substr(2,9),x:c,y:o,vx:0,vy:0,level:x.level,radius:Z(x.level),icon:x,image:F.get(x.png)};m(e=>[...e,d]),u(C[Math.floor(3*Math.random())]),$("drop"),setTimeout(()=>{R(!1)},300)},[x,h,O,F,J,Q,D]),er=(0,r.useCallback)(()=>{if(h)return;let{width:e,height:t}=J,s=Q?.1*t:G.current;m(r=>{let n=[...r],l=new Set,c=[];n=n.map(a=>{let s=a.y+a.vy,r=a.vy+.5;s+a.radius>t&&(s=t-a.radius,r=-(.8*r));let n=a.x+a.vx,l=.99*a.vx;return n-a.radius<0&&(n=a.radius,l=-(.8*l)),n+a.radius>e&&(n=e-a.radius,l=-(.8*l)),{...a,x:n,y:s,vx:l,vy:r}});for(let e=0;e<n.length;e++)for(let t=e+1;t<n.length;t++)if(!l.has(n[e].id)&&!l.has(n[t].id)&&ee(n[e],n[t])){let a=et(n[e],n[t]);if(a)l.add(n[e].id),l.add(n[t].id),c.push(a);else{let a=n[t].x-n[e].x,s=n[t].y-n[e].y,r=Math.sqrt(a*a+s*s),l=n[e].radius+n[t].radius-r;if(r>0){let i=a/r*l*.5,c=s/r*l*.5;n[e].x-=i,n[e].y-=c,n[t].x+=i,n[t].y+=c;let o=n[e].vx,d=n[e].vy;n[e].vx=.8*n[t].vx,n[e].vy=.8*n[t].vy,n[t].vx=.8*o,n[t].vy=.8*d}}}return n.some(e=>e.y-e.radius<s&&.1>Math.abs(e.vy))&&(p(!0),$("gameOver"),a(i)),[...n.filter(e=>!l.has(e.id)),...c]})},[h,i,a,J,Q]),en=(0,r.useCallback)(()=>{let e=l.current;if(!e)return;let t=e.getContext("2d");if(!t)return;let{width:a,height:s}=J,r=Q?.1*s:G.current;t.clearRect(0,0,a,s),t.fillStyle="#1e293b",t.fillRect(0,0,a,s),t.strokeStyle="#ef4444",t.lineWidth=2,t.setLineDash([5,5]),t.beginPath(),t.moveTo(0,r),t.lineTo(a,r),t.stroke(),t.setLineDash([]),t.fillStyle="rgba(239, 68, 68, 0.1)",t.fillRect(0,0,a,r),d.forEach(e=>{t.fillStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.ellipse(e.x,e.y+5,.8*e.radius,.3*e.radius,0,0,2*Math.PI),t.fill(),t.fillStyle=e.icon.color,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI),t.fill();let a=F.get(e.icon.png);if(a&&a.complete&&a.naturalWidth>0)t.save(),t.beginPath(),t.arc(e.x,e.y,.8*e.radius,0,2*Math.PI),t.clip(),t.drawImage(a,e.x-.8*e.radius,e.y-.8*e.radius,1.6*e.radius,1.6*e.radius),t.restore();else{t.fillStyle="white",t.font="bold ".concat(.8*e.radius,"px Arial"),t.textAlign="center",t.textBaseline="middle";let a={Mikrofon:"\uD83C\uDFA4","Fotoğraf Makinesi":"\uD83D\uDCF7",Kalem:"✏️","Sosyal Medya":"\uD83D\uDCAC",Logo:"\uD83C\uDFA8","Proje Klas\xf6r\xfc":"\uD83D\uDCC1","Meta Sembol\xfc":"\uD83D\uDD37",Bilgisayar:"\uD83D\uDCBB",Beğeni:"❤️",Kahve:"☕"}[e.icon.name]||e.icon.name.charAt(0);t.fillText(a,e.x,e.y)}})},[d,J,Q]),el=(0,r.useCallback)(()=>{er(),en(),I.current=requestAnimationFrame(el)},[er,en]);return((0,r.useEffect)(()=>(O&&(I.current=requestAnimationFrame(el)),()=>{I.current&&cancelAnimationFrame(I.current)}),[el,O]),O)?(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4 p-4",children:[(0,s.jsx)(g,{className:"w-full max-w-2xl",children:(0,s.jsxs)(j,{className:"".concat(Q?"p-2":"p-4"),children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-4 ".concat(Q?"text-sm":""),children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"".concat(Q?"text-lg":"text-2xl"," font-bold"),children:["Oyuncu: ",t]}),(0,s.jsxs)("p",{className:"".concat(Q?"text-base":"text-lg"),children:["Skor: ",(0,s.jsx)("span",{className:"font-bold text-blue-600",children:i})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-xs text-gray-600 ".concat(Q?"hidden sm:block":""),children:"Sıradaki İkon"}),(0,s.jsx)("div",{className:"bg-gray-200 rounded-full flex items-center justify-center ".concat(Q?"w-8 h-8":"w-12 h-12"),children:F.get(x.png)?(0,s.jsx)("img",{src:x.png,alt:x.name,className:"".concat(Q?"w-6 h-6":"w-8 h-8"," object-contain")}):(0,s.jsx)("span",{className:"".concat(Q?"text-xs":"text-base"),children:x.name.charAt(0)})})]}),(0,s.jsx)(o,{variant:"outline",size:"icon",onClick:()=>_(!Y),className:"".concat(Q?"h-8 w-8":"h-10 w-10"),children:Y?(0,s.jsx)(k.A,{className:"h-4 w-4"}):(0,s.jsx)(S.A,{className:"h-4 w-4"})}),n&&(0,s.jsx)(o,{variant:"outline",size:"icon",onClick:n,className:"".concat(Q?"h-8 w-8":"h-10 w-10"),title:"QR Kod ile Mobil Erişim",children:(0,s.jsx)(y.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("canvas",{ref:l,width:J.width,height:J.height,className:"border-2 border-gray-300 rounded-lg cursor-pointer mx-auto ".concat(Q?"max-w-full":""),onClick:e=>{es(e.clientX,e.clientY)},onTouchStart:e=>{e.preventDefault();let t=e.touches[0];es(t.clientX,t.clientY)}}),h&&(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-75 flex items-center justify-center rounded-lg",children:(0,s.jsxs)("div",{className:"text-center text-white p-4",children:[(0,s.jsx)("h3",{className:"".concat(Q?"text-xl":"text-3xl"," font-bold mb-2"),children:"Oyun Bitti!"}),(0,s.jsxs)("p",{className:"".concat(Q?"text-lg":"text-xl"," mb-4"),children:["Final Skor: ",i]}),(0,s.jsx)(o,{onClick:()=>window.location.reload(),className:Q?"px-4 py-2":"",children:"Tekrar Oyna"})]})})]}),(0,s.jsxs)("div",{className:"mt-4 text-center text-gray-600 ".concat(Q?"text-xs":"text-sm"),children:[(0,s.jsx)("p",{children:"Kutuyu doldurmadan ikonları birleştir!"}),(0,s.jsx)("p",{children:"Kırmızı \xe7izgiyi ge\xe7me!"}),Q&&(0,s.jsx)("p",{className:"font-semibold mt-2",children:"Dokunmatik ekran i\xe7in optimize edilmiş"})]})]})}),f&&v&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,s.jsx)(g,{className:"w-full ".concat(Q?"max-w-sm":"max-w-md"),children:(0,s.jsxs)(j,{className:"".concat(Q?"p-4":"p-6"," relative"),children:[(0,s.jsx)(o,{variant:"ghost",size:"icon",onClick:()=>ea(-1),className:"absolute top-2 right-2",title:"Kapat",children:(0,s.jsx)(M.A,{className:"h-4 w-4"})}),(0,s.jsx)("h3",{className:"".concat(Q?"text-lg":"text-xl"," font-bold mb-4"),children:"Meta'nın Kodunu \xc7\xf6z!"}),(0,s.jsx)("p",{className:"".concat(Q?"text-sm mb-4":"mb-6"),children:v.question}),(0,s.jsx)("div",{className:"space-y-2",children:v.options.map((e,t)=>(0,s.jsx)(o,{variant:"outline",className:"w-full text-left justify-start ".concat(Q?"text-sm py-2":""),onClick:()=>ea(t),onMouseEnter:()=>$("drop"),children:e},t))}),(0,s.jsxs)("p",{className:"".concat(Q?"text-xs":"text-sm"," text-gray-600 mt-4"),children:["Doğru cevap: ",2*w," puan!"]})]})})})]}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg",children:"Oyun y\xfckleniyor..."})]})})}let T=(0,l.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function K(e){let{className:t,variant:a,asChild:r=!1,...l}=e,c=r?n.DX:"span";return(0,s.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(T({variant:a}),t),...l})}var D=a(8186),R=a(5595),P=a(9037);function L(e){let{currentUserScore:t,onPlayAgain:a,onShowQRCode:n}=e,[l,i]=(0,r.useState)([]),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/scores/leaderboard");if(e.ok){let t=await e.json();i(t)}}catch(e){console.error("Failed to fetch leaderboard:",e)}finally{d(!1)}},x=e=>{switch(e){case 1:return(0,s.jsx)(D.A,{className:"w-6 h-6 text-yellow-500"});case 2:return(0,s.jsx)(R.A,{className:"w-6 h-6 text-gray-400"});case 3:return(0,s.jsx)(P.A,{className:"w-6 h-6 text-amber-600"});default:return(0,s.jsx)("span",{className:"w-6 h-6 flex items-center justify-center text-sm font-bold",children:e})}},u=e=>{switch(e){case 1:return"default";case 2:return"secondary";default:return"outline"}};return c?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg",children:"Liderlik tablosu y\xfckleniyor..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:(0,s.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,s.jsx)(g,{className:"mb-6",children:(0,s.jsxs)(f,{className:"text-center",children:[(0,s.jsx)(b,{className:"text-3xl font-bold text-white",children:"\uD83C\uDFC6 Meta Dijital Kamp\xfcs Liderlik Tablosu"}),(0,s.jsx)("p",{className:"text-gray-300",children:"En b\xfcy\xfck projeyi yaratan kamp\xfcs şampiyonları"})]})}),void 0!==t&&(0,s.jsx)(g,{className:"mb-6 border-2 border-yellow-400",children:(0,s.jsx)(j,{className:"p-4",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Senin Skorun"}),(0,s.jsx)("p",{className:"text-3xl font-bold text-yellow-400",children:t}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 mt-4",children:[a&&(0,s.jsx)(o,{onClick:a,className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:"Tekrar Oyna"}),n&&(0,s.jsxs)(o,{variant:"outline",onClick:n,className:"flex items-center gap-2",children:[(0,s.jsx)(y.A,{className:"h-4 w-4"}),"Mobil Erişim"]})]})]})})}),(0,s.jsxs)(g,{children:[(0,s.jsx)(f,{children:(0,s.jsx)(b,{className:"text-xl",children:"En İyi 10 Oyuncu"})}),(0,s.jsxs)(j,{children:[(0,s.jsx)("div",{className:"space-y-3",children:l.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg ".concat(t<3?"bg-gradient-to-r from-yellow-50 to-amber-50 border border-yellow-200":"bg-gray-50"),children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("div",{className:"flex items-center justify-center w-8 h-8",children:x(t+1)}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold",children:e.username}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:new Date(e.createdAt).toLocaleDateString("tr-TR")})]})]}),(0,s.jsx)("div",{className:"text-right",children:(0,s.jsxs)(K,{variant:u(t+1),className:"text-lg px-3 py-1",children:[e.score," puan"]})})]},e.id))}),0===l.length&&(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-gray-500",children:"Hen\xfcz skor bulunmuyor."}),(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"İlk oynayan sen ol!"})]})]})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(o,{variant:"outline",onClick:m,className:"text-white border-white hover:bg-white hover:text-gray-900",children:"Tabloyu Yenile"})})]})})}var O=a(7550),q=a(4357),F=a(6516),B=a(1788);function Y(e){let{onBack:t}=e,[a,n]=(0,r.useState)(""),[l,i]=(0,r.useState)(!1),c=A();(0,r.useEffect)(()=>{n(window.location.origin)},[]);let d="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=".concat(encodeURIComponent(a)),m=async()=>{try{await navigator.clipboard.writeText(a),i(!0),setTimeout(()=>i(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},x=async()=>{if(navigator.share)try{await navigator.share({title:"Meta Dijital Kamp\xfcs Macerası",text:"En b\xfcy\xfck projeyi yaratmak i\xe7in Meta'nın dijital macerasına katıl!",url:a})}catch(e){console.log("Share cancelled or failed:",e)}else m()};return(0,s.jsx)(g,{className:"".concat(c?"w-full max-w-sm":"w-full max-w-md"," mx-auto"),children:(0,s.jsxs)(j,{className:"".concat(c?"p-4":"p-6"," text-center"),children:[t&&(0,s.jsx)("div",{className:"flex justify-start mb-4",children:(0,s.jsxs)(o,{variant:"ghost",size:"sm",onClick:t,className:"flex items-center gap-2",children:[(0,s.jsx)(O.A,{className:"h-4 w-4"}),"Geri"]})}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)(y.A,{className:"mx-auto ".concat(c?"h-8 w-8":"h-12 w-12"," text-blue-600 mb-2")}),(0,s.jsx)("h3",{className:"".concat(c?"text-lg":"text-xl"," font-bold"),children:"Mobilde Oyna!"}),(0,s.jsx)("p",{className:"".concat(c?"text-sm":"text-base"," text-gray-600 mt-2"),children:"QR kodu okutarak oyununa mobil cihazından hızlıca eriş"})]}),(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)("div",{className:"p-4 bg-white rounded-lg border-2 border-gray-300",children:(0,s.jsx)("img",{src:d,alt:"QR Code",className:"".concat(c?"w-32 h-32":"w-40 h-40")})})}),(0,s.jsxs)("div",{className:"space-y-2 ".concat(c?"text-sm":""),children:[(0,s.jsxs)("div",{className:"text-left bg-gray-50 p-3 rounded-lg",children:[(0,s.jsx)("p",{className:"font-medium mb-1",children:"Oyun Linki:"}),(0,s.jsx)("p",{className:"text-xs text-gray-600 break-all font-mono",children:a})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,s.jsxs)(o,{variant:"outline",size:c?"sm":"default",onClick:m,className:"flex items-center gap-2",children:[l?(0,s.jsx)(h.A,{className:"h-4 w-4"}):(0,s.jsx)(q.A,{className:"h-4 w-4"}),l?"Kopyalandı!":"Kopyala"]}),c?(0,s.jsxs)(o,{variant:"outline",size:"sm",onClick:x,className:"flex items-center gap-2",children:[(0,s.jsx)(F.A,{className:"h-4 w-4"}),"Paylaş"]}):(0,s.jsxs)(o,{variant:"outline",size:"default",onClick:()=>{let e=document.createElement("a");e.href=d,e.download="meta-dijital-kampus-qr.png",document.body.appendChild(e),e.click(),document.body.removeChild(e)},className:"flex items-center gap-2",children:[(0,s.jsx)(B.A,{className:"h-4 w-4"}),"İndir"]})]})]}),c&&(0,s.jsx)("div",{className:"mt-4 text-xs text-gray-500",children:(0,s.jsx)("p",{children:"\uD83D\uDCA1 İpucu: Bu sayfayı yer imlerine ekle!"})})]})})}var _=a(3904),Q=a(2525),I=a(7580),G=a(8883);function W(e){let{onBack:t}=e,[a,n]=(0,r.useState)([]),[l,i]=(0,r.useState)(!0),[c,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(""),[p,v]=(0,r.useState)(!1),[y,w]=(0,r.useState)(""),k=A();(0,r.useEffect)(()=>{p&&S()},[p]);let S=async()=>{try{let e=await fetch("/api/admin/users");if(e.ok){let t=await e.json();n(t.users)}else console.error("Failed to fetch admin data")}catch(e){console.error("Admin fetch error:",e)}finally{i(!1)}},M=async()=>{if(confirm("T\xfcm kullanıcı ve skor verileri silinecek. Emin misiniz?")){m(!0);try{(await fetch("/api/admin/users",{method:"DELETE"})).ok?(alert("T\xfcm veriler başarıyla sıfırlandı!"),n([])):alert("Sıfırlama işlemi başarısız!")}catch(e){console.error("Reset error:",e),alert("Sıfırlama işlemi başarısız!")}finally{m(!1)}}},C=e=>e.scores.reduce((e,t)=>e+t.score,0),z=e=>e.scores.length>0?Math.max(...e.scores.map(e=>e.score)):0;return p?l?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center text-white",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-lg",children:"Y\xfckleniyor..."})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:(0,s.jsxs)("div",{className:"".concat(k?"w-full":"max-w-7xl mx-auto"),children:[(0,s.jsx)(g,{className:"mb-6",children:(0,s.jsx)(j,{className:"".concat(k?"p-4":"p-6"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(N.A,{className:"".concat(k?"h-8 w-8":"h-10 w-10"," text-purple-600")}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"".concat(k?"text-xl":"text-2xl"," font-bold text-white"),children:"Admin Panel"}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"Meta Dijital Kamp\xfcs Y\xf6netimi"})]})]}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsxs)(o,{variant:"outline",onClick:S,className:"flex items-center gap-2",children:[(0,s.jsx)(_.A,{className:"h-4 w-4"}),"Yenile"]}),(0,s.jsxs)(o,{variant:"destructive",onClick:M,disabled:c,className:"flex items-center gap-2",children:[(0,s.jsx)(Q.A,{className:"h-4 w-4"}),c?"Sıfırlanıyor...":"Verileri Sıfırla"]}),(0,s.jsxs)(o,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[(0,s.jsx)(O.A,{className:"h-4 w-4"}),"Geri"]})]})]})})}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,s.jsx)(g,{children:(0,s.jsxs)(j,{className:"".concat(k?"p-4":"p-6"," text-center"),children:[(0,s.jsx)(I.A,{className:"".concat(k?"h-8 w-8":"h-10 w-10"," text-blue-600 mx-auto mb-2")}),(0,s.jsx)("p",{className:"".concat(k?"text-2xl":"text-3xl"," font-bold text-white"),children:a.length}),(0,s.jsx)("p",{className:"text-gray-300",children:"Toplam Kullanıcı"})]})}),(0,s.jsx)(g,{children:(0,s.jsxs)(j,{className:"".concat(k?"p-4":"p-6"," text-center"),children:[(0,s.jsx)(D.A,{className:"".concat(k?"h-8 w-8":"h-10 w-10"," text-yellow-600 mx-auto mb-2")}),(0,s.jsx)("p",{className:"".concat(k?"text-2xl":"text-3xl"," font-bold text-white"),children:a.reduce((e,t)=>e+t.scores.length,0)}),(0,s.jsx)("p",{className:"text-gray-300",children:"Toplam Oyun"})]})}),(0,s.jsx)(g,{children:(0,s.jsxs)(j,{className:"".concat(k?"p-4":"p-6"," text-center"),children:[(0,s.jsx)(G.A,{className:"".concat(k?"h-8 w-8":"h-10 w-10"," text-green-600 mx-auto mb-2")}),(0,s.jsx)("p",{className:"".concat(k?"text-2xl":"text-3xl"," font-bold text-white"),children:a.filter(e=>e.wantsNewsletter).length}),(0,s.jsx)("p",{className:"text-gray-300",children:"B\xfclten Abonesi"})]})})]}),(0,s.jsxs)(g,{children:[(0,s.jsx)(f,{children:(0,s.jsx)(b,{className:"text-white",children:"Kullanıcı Listesi"})}),(0,s.jsx)(j,{children:(0,s.jsxs)("div",{className:"overflow-x-auto",children:[(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-600",children:[(0,s.jsx)("th",{className:"text-left p-3 text-gray-300",children:"Kullanıcı Adı"}),(0,s.jsx)("th",{className:"text-left p-3 text-gray-300",children:"E-posta"}),(0,s.jsx)("th",{className:"text-center p-3 text-gray-300",children:"En Y\xfcksek Skor"}),(0,s.jsx)("th",{className:"text-center p-3 text-gray-300",children:"Toplam Skor"}),(0,s.jsx)("th",{className:"text-center p-3 text-gray-300",children:"Oyun Sayısı"}),(0,s.jsx)("th",{className:"text-center p-3 text-gray-300",children:"B\xfclten"}),(0,s.jsx)("th",{className:"text-left p-3 text-gray-300",children:"Kayıt Tarihi"})]})}),(0,s.jsx)("tbody",{children:a.map(e=>(0,s.jsxs)("tr",{className:"border-b border-gray-700 hover:bg-gray-800/50",children:[(0,s.jsx)("td",{className:"p-3 text-white font-medium",children:e.username}),(0,s.jsx)("td",{className:"p-3 text-gray-300",children:e.email}),(0,s.jsx)("td",{className:"p-3 text-center",children:(0,s.jsx)(K,{variant:"default",className:"bg-yellow-600",children:z(e)})}),(0,s.jsx)("td",{className:"p-3 text-center text-white font-bold",children:C(e)}),(0,s.jsx)("td",{className:"p-3 text-center text-white",children:e.scores.length}),(0,s.jsx)("td",{className:"p-3 text-center",children:e.wantsNewsletter?(0,s.jsx)(K,{variant:"default",className:"bg-green-600",children:"Evet"}):(0,s.jsx)(K,{variant:"outline",children:"Hayır"})}),(0,s.jsx)("td",{className:"p-3 text-gray-400",children:new Date(e.createdAt).toLocaleDateString("tr-TR")})]},e.id))})]}),0===a.length&&(0,s.jsx)("div",{className:"text-center py-8",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Hen\xfcz kullanıcı kaydı bulunmuyor."})})]})})]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4 flex items-center justify-center",children:(0,s.jsx)(g,{className:"".concat(k?"w-full max-w-sm":"w-full max-w-md"),children:(0,s.jsxs)(j,{className:"".concat(k?"p-4":"p-6"),children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)(N.A,{className:"mx-auto ".concat(k?"h-12 w-12":"h-16 w-16"," text-purple-600 mb-4")}),(0,s.jsx)("h2",{className:"".concat(k?"text-xl":"text-2xl"," font-bold mb-2"),children:"Admin Panel"}),(0,s.jsx)("p",{className:"text-gray-300 text-sm",children:"Y\xf6netici paneline erişmek i\xe7in şifre girin"})]}),(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"meta123456"===u?(v(!0),w("")):w("Yanlış şifre!")},className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(x,{htmlFor:"password",children:"Admin Şifresi"}),(0,s.jsx)(d,{id:"password",type:"password",value:u,onChange:e=>h(e.target.value),placeholder:"Şifrenizi girin",required:!0})]}),y&&(0,s.jsx)("div",{className:"text-red-500 text-sm text-center",children:y}),(0,s.jsx)(o,{type:"submit",className:"w-full",children:"Giriş Yap"})]}),(0,s.jsxs)(o,{variant:"outline",onClick:t,className:"w-full mt-4",children:[(0,s.jsx)(O.A,{className:"h-4 w-4 mr-2"}),"Geri D\xf6n"]})]})})})}function H(){let[e,t]=(0,r.useState)(null),[a,n]=(0,r.useState)("registration"),[l,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=()=>{"#admin"===window.location.hash&&(n("admin"),window.location.hash="")};return e(),window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);let c=async e=>{try{let a=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok){let e=await a.json();t(e.user),n("game")}else{let e=await a.json();alert(e.error||"Kayıt başarısız")}}catch(e){console.error("Registration error:",e),alert("Kayıt sırasında bir hata oluştu")}},o=async t=>{if(e)try{(await fetch("/api/scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,score:t})})).ok?console.log("Score saved successfully"):console.error("Failed to save score")}catch(e){console.error("Score save error:",e)}i(t),n("leaderboard")},d=()=>{i(null),n("game")},m=()=>{n("qrcode")};return(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:(()=>{switch(a){case"registration":return(0,s.jsx)(w,{onSubmit:c,onShowQRCode:m,onShowAdmin:()=>n("admin")});case"game":return e?(0,s.jsx)(E,{username:e.username,onGameOver:o,onShowQRCode:m}):null;case"leaderboard":return(0,s.jsx)(L,{currentUserScore:l||void 0,onPlayAgain:d,onShowQRCode:m});case"qrcode":return(0,s.jsx)(Y,{onBack:()=>n(e?"game":"registration")});case"admin":return(0,s.jsx)(W,{onBack:()=>n("registration")});default:return(0,s.jsx)(w,{onSubmit:c})}})()})}},9434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>n});var s=a(2596),r=a(9688);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,r.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[598,67,441,684,358],()=>t(1781)),_N_E=e.O()}]);